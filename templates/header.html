{% load static %}
<!-- ==================== HEADER ==================== -->
<header class="sticky top-0 z-50 bg-white shadow-md">
    <div class="max-w-7xl mx-auto px-4">
        <div class="flex items-center h-16">

            <!-- Logo -->
            <a href="{% url 'home' %}" class="flex-shrink-0">
                <img src="{% static 'images/QHUN22-min.gif' %}" alt="ShopMobile Logo" class="h-10 w-auto">
            </a>

            <!-- Search Box -->
            <div class="flex-1 max-w-xl mx-6 lg:mx-10">
                <form action="." method="GET" class="relative">
                    <i
                        class="fas fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 search-icon transition-colors"></i>
                    <input type="text" name="q" placeholder="Tìm iPhone, Samsung, Oppo..."
                        value="{{ search_query|default:'' }}"
                        class="w-full h-11 pl-11 pr-11 bg-gray-100 border-0 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary transition-all duration-300">
                    <button type="submit" id="searchBtn"
                        class="absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 hover:text-primary hover:bg-gray-200 rounded-md transition-all duration-300 cursor-pointer">
                        <i class="fas fa-search"></i>
                    </button>
                </form>
            </div>

            <!-- Icons: Account & Cart & Order Lookup -->
            <div class="flex items-center gap-6 lg:gap-10">

                <!-- Giỏ hàng -->
                <a href="#"
                    class="flex items-center gap-3 text-gray-600 hover:text-primary transition-colors group relative">
                    <div
                        class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center group-hover:bg-primary/10 transition-all duration-300">
                        <i class="fas fa-shopping-cart text-gray-500 group-hover:text-primary transition-colors"></i>
                        <span
                            class="absolute -top-1 -right-1 bg-red-500 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center font-medium">0</span>
                    </div>
                    <div class="flex flex-col min-w-[80px]">
                        <span class="text-xs text-gray-400">Giỏ hàng</span>
                        <span
                            class="text-sm font-medium group-hover:text-primary transition-colors whitespace-nowrap">Thanh
                            toán</span>
                    </div>
                </a>

                <!-- Tra cứu đơn -->
                <a href="#" class="flex items-center gap-3 text-gray-600 hover:text-primary transition-colors group">
                    <div
                        class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center group-hover:bg-primary/10 transition-all duration-300">
                        <i class="fas fa-search-location text-gray-500 group-hover:text-primary transition-colors"></i>
                    </div>
                    <div class="flex flex-col min-w-[90px]">
                        <span class="text-xs text-gray-400">Kiểm tra</span>
                        <span
                            class="text-sm font-medium group-hover:text-primary transition-colors whitespace-nowrap">Tra
                            cứu đơn</span>
                    </div>
                </a>

                <!-- Tài khoản -->
                {% if user.is_authenticated %}
                <a href="{% url 'profile' %}"
                    class="flex items-center gap-3 text-gray-600 hover:text-primary transition-colors group cursor-pointer">
                    <div
                        class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center group-hover:bg-primary/10 transition-all duration-300">
                        <i class="fas fa-user text-gray-500 group-hover:text-primary transition-colors"></i>
                    </div>
                    <div class="flex flex-col min-w-[70px]">
                        <span class="text-xs text-gray-400">Xin chào</span>
                        <span
                            class="text-sm font-medium group-hover:text-primary transition-colors whitespace-nowrap">
                            {% firstof user.first_name user.username "Khach" %}
                        </span>
                    </div>
                </a>
                {% else %}
                <div
                    class="flex items-center gap-3 text-gray-600 hover:text-primary transition-colors group cursor-pointer">
                    <div
                        class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center group-hover:bg-primary/10 transition-all duration-300">
                        <i class="fas fa-user text-gray-500 group-hover:text-primary transition-colors"></i>
                    </div>
                    <div class="flex flex-col min-w-[70px]">
                        <span class="text-xs text-gray-400">Xin chào</span>
                        <div class="flex gap-1">
                            <a href="{% url 'login' %}"
                                class="text-sm font-medium group-hover:text-primary transition-colors whitespace-nowrap">Đăng
                                nhập</a>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>

        </div>
    </div>
</header>